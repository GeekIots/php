# php
极客物联网官方网站
## 2017.12.15
```
1.修改开关设备页面 '是否在线'-> '设备ID'
2.修改文档默认连接为'快速入门'
```

## 2017.12.6
```
1.注册时自动获取国家、省份和城市
2.Mysql:admin_count 访问统计数据表增加nickname字段
3.Mysql:user 用户性别默认改为男性
4.注册界面等待时增加动画效果
```

## 2017.12.4
```
1.增加showdoc引擎，扩展文档编辑功能
```

## 2017.12.1
```
1.增加文档页面
```

## 2017.12.1
```
1.修复QQ登录异常
2.优化QQ登录界面，增加加载动画
3.fix:set页面绑定绑定和解绑问题
```

## 2017.11.30
```
1.增加用户点击统计
2.继续编辑首页
3.修改header和footer色彩
4.首页显示点击量
5.增加智能硬件入口
6.增加lay-icon.css图标文件
```

## 2017.11.29
```
1.summernote 如果不输入内容，直接插入图片则会报错，已解决！editor.insertImage
```


## 2017.11.28
```
1.启用layui源码文件
2.util.timeAgo需要改为layui.util.timeAgo
已经更改完成：
--about
	--index.php
--admin
	--user.list.php
	--info.wxin.php
	--info.web.php
	--index.php
	--device.switch.list.php
	--device.sensor.list.php
	--blog.list.php
	--blog.answer.list.php
--blog
	--index.php
	--view.php 收藏按钮异常
	--edit.php
	--del.php--暂时未开放
	--add.php
--common
	--header.php
	--fun.js
--device
	--add.sensor.php
	--add.switch.php
	--delete.sensor.php
	--delete.switch.php
	--management.php
	--device.php
	--update.sensor.php
	--update.switch.php
	--bluetooth/index.php
--user
  	--login.php
  	--set.php
  	--register.php
  	--message.php
  	--logout.php
  	--index.php
  	--home.php
```

## 2017.11.21
```
1.更新富文本编辑器为summernote，功能得到大幅提升，支持图片链接，支持html及js脚本，极具创意！
3.增加给回复点赞功能（已经添加api）...
4.增加bing搜索功能（已提交，待审核）...
5.将获取登录状态放到网页中，全面使用layer.use模块化加载，用src模块文件，便于升级与优化，同时配和vue的模版功能，让网站变得干脆利索...
6.发布资料下载链接...
7.增加传感器及开关可以用户自定义上传图片，限制200kb
```

## 2017.11.20
```
1.完善帖子界面
2.修改帖子ajax为异步模式，速度得到大幅提升
3.修复了若干bug
```

## 2017.11.19
```
1.更改登录，注册，修改用户信息为表单提交
2.统一表单验证方式和提示界面
```

## 2017.11.18
```
1.增加收藏功能，已收藏的显示已收藏和取消收藏
2.修改登录和注册页面为表单提交
3.取消所有API关闭数据库连接指令，网站速度得到小幅提升
4.上传图API更改为api/upload/upload.img.php
5.发帖，回帖，编辑帖子的图片分别存入对应id的文件夹，删除时自动删除对应文件
6.完成上传图片API
```

## 2017.11.16
```
1.后台管理增加数据库管理，备份和恢复备份，可选择备份到本地或服务器？
2.蓝牙配置界面增加登陆验证
3.编辑帖子增加标题编辑，修复分类显示错误问题
4.修复注册API不能返回json问题，被邮箱函数里定义成了html
5.修改qq回调页面注册，登陆等为表单方式
```

## 2017.11.15
```
1.layerload里设置全局ajax同步无效，在header中直接设置
2.设备管理需要验证登陆
3.更新设备管理界面，并采用vue动态显示
4.增加开关及传感器管理
5.blog的id字段更改为13位，采用bigint，创建时存储毫秒时间戳
6.bloganswer的id字段更改为13位，采用bigint，创建时存储毫秒时间戳
7.blog_collect 的blogid字段更改为13位，采用bigint，创建时存储毫秒时间戳
8.发帖和回帖已经改为js端创建13位时间戳做为ID
```

## 2017.11.14
```
1.后台用户管理界面(1.查看 2.删除 3.编辑-未完)
2.引入vue
3.增加api/admin
4.后台文章管理界面(1.查看 2.删除 3.编辑-未完)
5.增加管理员账号level识别，admin-1为管理员
6.增加后台信息管理
7.QQ登录支持www和不带www，但两者登录信息仍然不同步
```

## 2017.11.10
```
1.修改密码完成
2.增加fun函数，让api轻松支持get和post双模式
3.增加config.php配置文件
```

## 2017.11.8
```
1.图片出错时自动显示默认出错图片
2.图片引用防盗链问题未解决...
```

## 2017.11.7
```
1.用户资料修改完成
2.添加和更改设备时头像时时更新，并判断图片错误
3.微信小程序 获取帖子API调整：增加按时间排序
4.图片引用防盗链问题未解决...
```

## 2017.11.6
```
1.设备增删改查增加头像显示
2.修复修改头像时的bug
3.修复邮件发送函数bug
4.修复蓝牙配置页面顶部留白bug
```

## 2017.11.4
```
1.添加开关完成
2.增加头像和开关默认头像，目录：image/default
3.添加传感器完成
4.更改开关完成
5.更改传感器完成
6.删除开关完成
7.删除传感器完成
```

## 2017.11.2
```
1.用户注册id改为13位毫秒级时间戳
2.所有图片统一命名成完整域名
1.开关控制操作完成
2.设备管理页面完成
3.导航栏升级
4.修复登录api qq登录部分bug
```


## 2017.11.1
```
1.QQ登陆完成
2.邮箱问题找到，阿里云屏蔽了25端口，需要用ssl安全方式通信，
phpmailer.php
初始化增加：$mail->SMTPSecure = "ssl";
端口改为465：  $mail->Port   = 465; 

修改php.ini文件, 在适当的位置添加
extension=openssl.so #来自www.zeroplace.cn
释放;extension=php_openssl.dll
```

## 2017.10.20
```
1.全局ajax配置为同步方式，优化代码可读性！
	详见：common/layerload.js
```

## 2017.10.18
```
1.QQ审核通过！
```

## 2017.10.16
```
1.引入qq登录，等待审核！
```

## 2017.10.12
```
1.home页面根据get参数userid展示用户信息
计划完成：
一、搜索，收藏，取消收藏，密码重置，qq登陆。
二、API展示页面，左侧可以按分类展开，右侧显示主体内容，用markdown编辑
三、头像图片覆盖存储，帖子及回复的图片以日期分类，再以文章id分类，删除帖子的同时删除相关图片，文件，以及回复。增加最大可发表图片数限制。
四、图片巡检机器人，定期的自动搜索图片库中多余的图片，帖子图片实根据帖子id分类放置的，该文件夹下帖子中不存在的图片为冗余图片，应该清除，帖子不存在清除该文件夹，文件夹为空直接清除。
五、制作后台管理界面，主要用于用户管理，信息发布，帖子置顶，等操作。
2.
3.
```

## 2017.10.11
```
1.用户注册自动生32位成唯一id
2.更新set.php
3.用户头像路径/应在在上传时添加
```


## 2017.9.27
```
1.用户表增加userid字段，注册时有系统自动生成，并将userid作为用户的唯一标识，所有更名，换邮箱等操作均以userid为准
2.用户表增加sex字段，记录用户性别信息
```

## 2017.9.27
```
1.blog基本功能完成
2.修复layui中util模块时间方法不支持safari的bug
3.增加获取收藏贴API
4.完成 我的主页，用户中心 页面
```


## 2017.9.26
```
1.帖子idex页面完成
2.view页面显示完成
3.top榜单定义了回复榜、热议榜和热贴榜API，已在index和view中调用
4.home.php 改造中
```

## 2017.9.17
```
1.更新header自动变化当前页面特殊显示
2.header页面采用了layui模板功能，前端彻底不包含php代码
```

## 2017.9.11
```
1.修改贴吧部分bug
```

## 2017.9.11
```
1.增加头像显示
2.完成注册，登陆，更换头像
```

## 2017.9.6
```
1.注册完成
2.登录完成
```

## 2017.9.1
```
1.回帖可以发图片
2.更新layui上传图片demo
3.更改论坛分页为layui
```

## 2017.8.31 -2
```
1.帖子主页可以回复消息
```

## 2017.8.31 -1
```
1.增加layui
2.增加frame文件夹，用于存放框架类文件
3.增加demo文件夹，存放测试文件
```

## 2017.8.30
```
1.解决论坛首页部分图标不显示问题
2.更新论坛浏览页面
3.论坛页面增加header和footer
```

## 2017.8.29
```
1.更新论坛界面-首页
```

## 2017.8.28
```
1.增加picture文件夹，用于存放站点用到的图片
2.增加makedown编辑器的同步，还不完善
3.增加makedown编辑器鼠标在编辑区滚动时页面不动
4.删除多余makedown样式文件
```

## 2017.8.27
```
1.更新bloglist API，增加hits字段返回
2.站点信息后台管理界面设计完成，支持动态编辑，md和html两种标记语言混合编辑，并实时预览
```

## 2017.8.25
```
1.markdown编辑器搞定
2.更新footer
3.md目前支持html标签 不支持table主要问题在1087行escape函数，需要深入研究
4.md兼容html标签，支持样式
```

## 2017.8.24 
```
1.增加markdown文件夹
2.具备基本markdown文本编辑和预览功能
```

## 2017.8.23 -2
```
1.增加信息管理页面
2.信息管理支持markdown和html混合编辑
3.更改首页和关于页面为后台更新
```

## 2017.8.23 -1
```
1.修复控制设备指令不更新bug
2.更新about页面
```

## 2017.8.22
```
1.更新添加开关API
2.更新设备列表功能，可以操作，有反馈，有响应时间
3.添加开关页面增加默认图片功能，路径正确则录用，不正确则用默认
```

## 2017.8.21
```
1.取消设备api密码验证
2.更新查看设备页面
```

## 2017.8.20
```
1.取消设备页面中的设备管理入口
2.导航的设备中添加设备管理入口
3.远程设备更名为查看设备
4.优化设备页面布局
```

## 2017.8.19
```
1.修复偶发登录异常Bug
2.更新登录后默认跳转到首页
3.调整设备页面中,未完成
```

## 2017.8.18
```
1.优化设备管理界面
```

## 2017.8.16
```
1.增加bootstrap文件夹，解决了字体不能被加载问题
2.修复图像页面初始状态不显示预览图问题
3.修复其他页面总是显示默认头像问题
```

## 2017.8.15
```
1.移动蓝牙配置api到API目录，并由fun.php更改为config.php
```

## 2017.8.14 =>2
```
1.蓝牙配置页面增加显示字段，便于显示或隐藏按钮
2.修复第一次打开配置页面不显示bug
3.增加默认icon
```
## 2017.8.14 =>1
```
1.更改原来https为api
2.更改服务器https的路径与http相同
3.解决部分bug
```